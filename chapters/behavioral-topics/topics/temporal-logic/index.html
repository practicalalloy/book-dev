<!doctype html>
<html class="no-js" lang="en" data-content_root="../../../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../../../../genindex.html" /><link rel="search" title="Search" href="../../../../search.html" /><link rel="next" title="Pointwise effects" href="../pointwise-effects/index.html" /><link rel="prev" title="The trace evaluator" href="../evaluator/index.html" />

    <!-- Generated with Sphinx 7.2.6 and Furo 2024.01.29 -->
        <title>A temporal logic primer - Practical Alloy</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --color-brand-primary: #2a5adf;
  --color-brand-content: #2a5adf;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../../index.html"><div class="brand">Practical Alloy</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../../../index.html">
  
  
  <span class="sidebar-brand-text">Practical Alloy</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Preface</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../about-alloy/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../about-book/index.html">About this book</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">The Basics</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../structural-modeling/index.html">Structural modeling</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../structural-topics/index.html">Structural quick reads</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Structural quick reads</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../structural-topics/topics/subset-signatures/index.html">Subset signatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../structural-topics/topics/nary-relations/index.html">Higher-arity relations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../structural-topics/topics/enumerations/index.html">Enumeration signatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../structural-topics/topics/commands/index.html">Commands in detail</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../structural-topics/topics/themes/index.html">Visualization customization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../structural-topics/topics/evaluator/index.html">The instance evaluator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../structural-topics/topics/testing-instances/index.html">Encoding test instances</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../structural-topics/topics/relational-logic/index.html">A relational logic primer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../structural-topics/topics/bestiary/index.html">Arrow multiplicity checks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../structural-topics/topics/ordering/index.html">The predefined <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">ordering</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../structural-topics/topics/modules/index.html">Module system</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../structural-topics/topics/recursion/index.html">Handling recursion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../structural-topics/topics/integers/index.html">Working with integers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../structural-topics/topics/type-system/index.html">Type system</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../structural-topics/topics/analysis/index.html">Structural analysis</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../behavioral-modeling/index.html">Behavioral modeling</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../../index.html">Behavioral quick reads</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Behavioral quick reads</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../mutable-toplevel-signatures/index.html">Mutable top-level signatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../event-depiction/index.html">An idiom for event depiction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scenarios/index.html">Encoding trace scenarios</a></li>
<li class="toctree-l2"><a class="reference internal" href="../evaluator/index.html">The trace evaluator</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">A temporal logic primer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pointwise-effects/index.html">Pointwise effects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fairness/index.html">Safety, Liveness and Fairness</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sequences/index.html">Sequences</a></li>
<li class="toctree-l2"><a class="reference internal" href="../macros/index.html">Macros</a></li>
<li class="toctree-l2"><a class="reference internal" href="../meta/index.html">Meta-capabilities</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Applications</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../protocol-design/index.html">Protocol design</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../bibliography.html">Bibliography</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../genindex.html">Index</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="a-temporal-logic-primer">
<span id="temporal-logic"></span><h1>A temporal logic primer<a class="headerlink" href="#a-temporal-logic-primer" title="Link to this heading">#</a></h1>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>This chapter is still under construction</p>
</div>
<section id="everything-is-a-trace">
<h2>Everything is a trace!<a class="headerlink" href="#everything-is-a-trace" title="Link to this heading">#</a></h2>
<p>In chapter <a class="reference internal" href="../../../structural-modeling/index.html#structural-modeling"><span class="std std-ref">Structural modeling</span></a>, we detailed how Alloy relies on relational logic. As a matter of fact, the language also relies on temporal logic in order to reason over the behaviors of a system, as we saw in chapter <a class="reference internal" href="../../../behavioral-modeling/index.html#behavioral-modeling"><span class="std std-ref">Behavioral modeling</span></a>.</p>
<p>But what do we mean by that? In Alloy, this means that we view a system as the set of all its execution traces:</p>
<blockquote>
<div><p>Every such trace is a feasible <em>infinite sequence of states</em> of the system.</p>
</div></blockquote>
<p>Here, “feasible” means that each trace much follow the constraints of the model. The constraints of the model include the Alloy facts and the constraints that are included in the signature declarations, such as the multiplicity constraints.</p>
<p>In a state, a value is associated with each relation.</p>
<p>Let us consider for instance the following trace of our file sharing web app:</p>
<a class="reference internal image-reference" href="../../../../_images/trace.png"><img alt="../../../../_images/trace.png" class="align-center" src="../../../../_images/trace.png" style="width: 550px;" /></a>
<p>In this scenario, which we will use as an illustrating example in the following, there are two files and two tokens. A file is depicted in red if it is shared. Tokens are not represented in the picture.</p>
<p>Let us define this scenario in Alloy terms. The set of atoms (the universe) consists of the two files and the two tokens, which are named after their signature name by Alloy: <code class="code docutils literal notranslate"><span class="pre">File0</span></code>, <code class="code docutils literal notranslate"><span class="pre">File1</span></code>, <code class="code docutils literal notranslate"><span class="pre">Token0</span></code>, <code class="code docutils literal notranslate"><span class="pre">Token1</span></code>. Alloy Analyzer produces the following view for this scenario. We use here the same visualization theme as in chapter <a class="reference internal" href="../../../behavioral-modeling/index.html#behavioral-modeling"><span class="std std-ref">Behavioral modeling</span></a>: the files are depicted as circles and the tokens as grey rectangles, the files that are not currently uploaded are in white, the uploaded ones are in yellow, the trashed ones are in red. This view focuses on the first two states (state 0 and state 1).</p>
<img alt="../../../../_images/instance111.png" class="align-center" src="../../../../_images/instance111.png" />
<p>All along the trace, the signatures <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">File</span></code> and <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">Token</span></code> have the same value (because they are static signatures) which is:</p>
<div class="highlight-electrum notranslate"><div class="highlight"><pre><span></span><span class="n">File</span> <span class="o">=</span> <span class="o">{(</span><span class="n">File0</span><span class="o">)</span><span class="p">,</span> <span class="o">(</span><span class="n">File1</span><span class="o">)}</span>
<span class="n">Token</span> <span class="o">=</span> <span class="o">{(</span><span class="n">Token0</span><span class="o">)</span><span class="p">,</span> <span class="o">(</span><span class="n">Token1</span><span class="o">)}</span>
</pre></div>
</div>
<p>Now, if we look at the content of the first two states, we see that</p>
<ul class="simple">
<li><p>in the initial state, the signatures <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">uploaded</span></code>, <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">trashed</span></code> and the field <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">shared</span></code> are empty,</p></li>
<li><p>in the second state, <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">uploaded</span> <span class="o">=</span> <span class="n">File1</span></code>, <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">trashed</span></code> and <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">shared</span></code> are empty.</p></li>
</ul>
<p>The following view focuses on the 3rd and 4th states (state 2 and state 3) of the trace, corresponding to the transition where one file is shared.</p>
<img alt="../../../../_images/instance23.png" class="align-center" src="../../../../_images/instance23.png" />
<p>We can see that in state 2 (left-hand side) <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">shared</span></code> is empty, and that in state 3 (right-hand side) <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">shared</span> <span class="o">=</span> <span class="o">{(</span><span class="n">File0</span><span class="p">,</span> <span class="n">Token1</span><span class="o">)}</span></code>.</p>
<p>In the following, we will use this scenario to illustrate the temporal connectives.</p>
</section>
<section id="temporal-connectives">
<h2>Temporal connectives<a class="headerlink" href="#temporal-connectives" title="Link to this heading">#</a></h2>
<p>The constraints of the model are expressed in Alloy’s logic, which combines relational logic and Linear Temporal Logic (LTL) <a class="reference internal" href="../../../../bibliography.html#focs77" id="id1"><span>[FOCS77]</span></a>.  The obtained logic is named Relational Linear Temporal Logic (RLTL). A formula is interpreted in a given state of a given trace. The meaning of relational connectives is described in detail in section ADD REF <span class="xref std std-ref">relational-logic:</span>. Let us now focus on the connectives of LTL, which are listed above:</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><em>Future-time connectives</em></p></td>
<td><p><em>Past-time connectives</em></p></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">after</span></code></p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">before</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">eventually</span></code></p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">once</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">always</span></code></p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">historically</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">until</span></code></p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">since</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">releases</span></code></p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">triggered</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<p>Given a trace (which we keep implicit in the following table), the interpretation of every connective is given in the state of index <span class="math notranslate nohighlight">\(i ≥ 0\)</span>.</p>
<blockquote>
<div><p>We consider that a trace satisfies a formula if its first state (state <span class="math notranslate nohighlight">\(0\)</span>) satisfies it.</p>
</div></blockquote>
<section id="future-time-connectives">
<h3>Future-time connectives<a class="headerlink" href="#future-time-connectives" title="Link to this heading">#</a></h3>
<p>The following table shows the semantics of the future-time connectives.</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><em>Connective</em></p></td>
<td><p><em>Meaning</em></p></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">after</span> <span class="pre">P</span></code> in <span class="math notranslate nohighlight">\(i\)</span></p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">P</span></code> is true in state <span class="math notranslate nohighlight">\(i+1\)</span></p></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">eventually</span> <span class="pre">P</span></code> in <span class="math notranslate nohighlight">\(i\)</span></p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">P</span></code> is true in some state <span class="math notranslate nohighlight">\(j ≥ i\)</span></p></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">always</span> <span class="pre">P</span></code> in <span class="math notranslate nohighlight">\(i\)</span></p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">P</span></code> is true in every state <span class="math notranslate nohighlight">\(j ≥ i\)</span></p></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">P</span> <span class="pre">until</span> <span class="pre">Q</span></code> in <span class="math notranslate nohighlight">\(i\)</span></p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">Q</span></code> is true in some state <span class="math notranslate nohighlight">\(j ≥ i\)</span> and
for all states <span class="math notranslate nohighlight">\(i≤k&lt;j\)</span>  <code class="code docutils literal notranslate"><span class="pre">P</span></code> is true in state <span class="math notranslate nohighlight">\(k\)</span></p></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">P</span> <span class="pre">releases</span> <span class="pre">Q</span></code> in <span class="math notranslate nohighlight">\(i\)</span></p></td>
<td><dl class="simple">
<dt>either <code class="code docutils literal notranslate"><span class="pre">P</span></code> is true in some state <span class="math notranslate nohighlight">\(j ≥ i\)</span> and for all states <span class="math notranslate nohighlight">\(i≤ k ≤ j\)</span></dt><dd><p><code class="code docutils literal notranslate"><span class="pre">Q</span></code> is true in state <span class="math notranslate nohighlight">\(k\)</span></p>
</dd>
</dl>
<p>or for all state <span class="math notranslate nohighlight">\(j ≥ i\)</span>  <code class="code docutils literal notranslate"><span class="pre">P</span></code> is false in <span class="math notranslate nohighlight">\(j\)</span> and <code class="code docutils literal notranslate"><span class="pre">Q</span></code> is true in <span class="math notranslate nohighlight">\(j\)</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p>To illustrate the connectives, here are some examples of formulas, which are satisfied in the initial state of the trace that is shown above. Notice that they do not necessarily hold in all the possible traces of the file sharing example.</p>
<ul class="simple">
<li><p><code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="ow">after</span> <span class="k">some</span> <span class="n">uploaded</span></code></p></li>
<li><p><code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="ow">eventually</span> <span class="k">some</span> <span class="n">trashed</span></code></p></li>
<li><p><code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="ow">always</span> <span class="o">(</span><span class="k">some</span> <span class="n">f</span><span class="p">:</span><span class="n">File</span> <span class="o">|</span> <span class="n">upload</span><span class="o">[</span><span class="n">f</span><span class="o">]</span> <span class="ow">implies</span> <span class="ow">after</span> <span class="k">some</span> <span class="n">uploaded</span><span class="o">)</span></code></p></li>
<li><p><code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="o">(</span><span class="k">some</span> <span class="n">f</span><span class="p">:</span> <span class="n">File</span> <span class="o">|</span> <span class="n">upload</span><span class="o">[</span><span class="n">f</span><span class="o">])</span> <span class="ow">until</span> <span class="o">(</span><span class="k">some</span> <span class="n">f</span><span class="p">:</span> <span class="n">File</span><span class="p">,</span> <span class="n">t</span><span class="p">:</span> <span class="n">Token</span><span class="o">|</span> <span class="n">share</span><span class="o">[</span><span class="n">f</span><span class="p">,</span> <span class="n">t</span><span class="o">])</span></code></p></li>
<li><p><code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="o">(</span><span class="k">some</span> <span class="n">f</span><span class="p">:</span> <span class="n">File</span> <span class="o">|</span> <span class="n">delete</span><span class="o">[</span><span class="n">f</span><span class="o">])</span> <span class="ow">releases</span> <span class="k">no</span> <span class="n">trashed</span></code></p></li>
</ul>
<p>As in relational logic, some connectives can be defined in terms of others. In particular, it is known that <code class="code docutils literal notranslate"><span class="pre">after</span></code> and <code class="code docutils literal notranslate"><span class="pre">until</span></code> are sufficient to defined all other future-time connectives. For example, <code class="code docutils literal notranslate"><span class="pre">eventually</span> <span class="pre">P</span></code> is the same as <code class="code docutils literal notranslate"><span class="pre">(not</span> <span class="pre">P)</span> <span class="pre">until</span> <span class="pre">P</span></code>, <code class="code docutils literal notranslate"><span class="pre">always</span> <span class="pre">P</span></code> is the same as <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">eventually</span> <span class="pre">not</span> <span class="pre">P</span></code> and <code class="code docutils literal notranslate"><span class="pre">P</span> <span class="pre">releases</span> <span class="pre">Q</span></code> is the same as <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">((not</span> <span class="pre">P)</span> <span class="pre">until</span> <span class="pre">not</span> <span class="pre">Q)</span></code>.</p>
</section>
<section id="past-time-connectives">
<h3>Past-time connectives<a class="headerlink" href="#past-time-connectives" title="Link to this heading">#</a></h3>
<p>The semantics of the past-time connectives is given in the table below.</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><em>Connective</em></p></td>
<td><p><em>Meaning</em></p></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">before</span> <span class="pre">P</span></code> in <span class="math notranslate nohighlight">\(i\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\(i&gt;0\)</span> and <code class="code docutils literal notranslate"><span class="pre">P</span></code> is true in state <span class="math notranslate nohighlight">\(i-1\)</span></p></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">once</span> <span class="pre">P</span></code> in <span class="math notranslate nohighlight">\(i\)</span></p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">P</span></code> is true in some state <span class="math notranslate nohighlight">\(j ≤ i\)</span></p></td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">historically</span> <span class="pre">P</span></code> in <span class="math notranslate nohighlight">\(i\)</span></p></td>
<td><p><code class="code docutils literal notranslate"><span class="pre">P</span></code> is true in every state <span class="math notranslate nohighlight">\(0 ≤ j ≤ i\)</span></p></td>
</tr>
<tr class="row-odd"><td><p><code class="code docutils literal notranslate"><span class="pre">P</span> <span class="pre">since</span> <span class="pre">Q</span></code> in <span class="math notranslate nohighlight">\(i\)</span></p></td>
<td><dl class="simple">
<dt><code class="code docutils literal notranslate"><span class="pre">Q</span></code> is true in some state <span class="math notranslate nohighlight">\(0 ≤ j ≤ i\)</span> and  for all states <span class="math notranslate nohighlight">\(j &lt; k ≤ i\)</span></dt><dd><p><code class="code docutils literal notranslate"><span class="pre">P</span></code> is true in state <span class="math notranslate nohighlight">\(k\)</span></p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><p><code class="code docutils literal notranslate"><span class="pre">P</span> <span class="pre">triggered</span> <span class="pre">Q</span></code> in <span class="math notranslate nohighlight">\(i\)</span></p></td>
<td><dl class="simple">
<dt>either <code class="code docutils literal notranslate"><span class="pre">P</span></code> is true in some state <span class="math notranslate nohighlight">\(0 ≤j ≤ i\)</span> and for all states <span class="math notranslate nohighlight">\(j ≤ k ≤ i\)</span></dt><dd><p><code class="code docutils literal notranslate"><span class="pre">Q</span></code> is true in state <span class="math notranslate nohighlight">\(k\)</span></p>
</dd>
</dl>
<p>or for all states 0 ≤ j ≤ i <code class="code docutils literal notranslate"><span class="pre">P</span></code> is false in <span class="math notranslate nohighlight">\(j\)</span> and <code class="code docutils literal notranslate"><span class="pre">Q</span></code> is true in <span class="math notranslate nohighlight">\(j\)</span></p>
</td>
</tr>
</tbody>
</table>
</div>
<p>As examples, let us consider the following formulas, which hold in the 4th state of our illustrating scenario. Again, they do not necessarily hold in other states of the trace nor in other traces of the file sharing model.</p>
<ul class="simple">
<li><p><code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="k">some</span> <span class="n">shared</span> <span class="ow">and</span> <span class="ow">before</span> <span class="k">no</span> <span class="n">shared</span></code></p></li>
<li><p><code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="ow">once</span> <span class="k">no</span> <span class="n">uploaded</span></code></p></li>
<li><p><code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="k">some</span> <span class="n">t</span><span class="p">:</span> <span class="n">token</span> <span class="o">|</span> <span class="ow">historically</span> <span class="n">t</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">File</span><span class="o">.</span><span class="n">shared</span></code></p></li>
<li><p><code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">File</span> <span class="o">=</span> <span class="n">uploaded</span> <span class="ow">since</span> <span class="k">some</span> <span class="n">f</span><span class="p">:</span><span class="n">File</span> <span class="o">|</span> <span class="n">upload</span><span class="o">[</span><span class="n">f</span><span class="o">]</span></code></p></li>
<li><p><code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="o">(</span><span class="k">some</span> <span class="n">f</span><span class="p">:</span> <span class="n">File</span> <span class="o">|</span> <span class="n">upload</span><span class="o">[</span><span class="n">f</span><span class="o">])</span> <span class="ow">triggered</span> <span class="ow">after</span> <span class="k">some</span> <span class="n">uploaded</span></code></p></li>
</ul>
</section>
<section id="interpretation-in-the-initial-state">
<h3>Interpretation in the initial state<a class="headerlink" href="#interpretation-in-the-initial-state" title="Link to this heading">#</a></h3>
<p>As we said above, we consider that a trace satisfies a formula if its initial states satisfies it. A practical consequence is that a formula in Alloy (whether it is a <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">fact</span><span class="err">`</span></code> or a property in a <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="k">check</span></code> or <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="k">run</span></code> command) is interpreted in the initial state of a trace. So, past-time connectives only make sense if they appear in the scope of future-time connectives. For instance, consider the following formula, meaning that some token has never been used: <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="k">some</span> <span class="n">t</span><span class="p">:</span> <span class="n">Token</span> <span class="o">|</span> <span class="ow">historically</span> <span class="n">t</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">File</span><span class="o">.</span><span class="n">shared</span></code>. Interpreting this formula in the initial state of a trace makes it the same as <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="k">some</span> <span class="n">t</span><span class="p">:</span> <span class="n">Token</span> <span class="o">|</span> <span class="n">t</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">File</span><span class="o">.</span><span class="n">shared</span></code>, which means that some token is not used. In other words, the past-time connective is useless. However, if <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="ow">historically</span></code> is in the scope of a future-time connective, such as <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="ow">always</span></code>, it can be useful. For instance, the formula <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="k">all</span> <span class="n">f</span><span class="p">:</span> <span class="n">File</span><span class="p">,</span> <span class="n">t</span><span class="p">:</span> <span class="n">Token</span> <span class="o">|</span> <span class="ow">always</span> <span class="o">(</span><span class="n">share</span><span class="o">[</span><span class="n">f</span><span class="p">,</span> <span class="n">t</span><span class="o">]</span> <span class="ow">implies</span> <span class="ow">historically</span> <span class="n">t</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">File</span><span class="o">.</span><span class="n">shared</span></code> means that each time a file is shared with a token, this token has never been used before.</p>
</section>
</section>
<section id="on-the-expressiveness-of-alloy-s-temporal-logic">
<h2>On the expressiveness of Alloy’s temporal logic<a class="headerlink" href="#on-the-expressiveness-of-alloy-s-temporal-logic" title="Link to this heading">#</a></h2>
<section id="are-past-time-connectives-really-useful">
<h3>Are past-time connectives really useful?<a class="headerlink" href="#are-past-time-connectives-really-useful" title="Link to this heading">#</a></h3>
<p>A well known theoretical result for LTL is that past-time connectives do not add any expressiveness to the logic <a class="reference internal" href="../../../../bibliography.html#popl80" id="id2"><span>[POPL80]</span></a>. In other words, <code class="code docutils literal notranslate"><span class="pre">after</span></code> and <code class="code docutils literal notranslate"><span class="pre">until</span></code> are enough to express any property that is expressible in LTL. However, we also know <a class="reference internal" href="../../../../bibliography.html#eatcs03" id="id3"><span>[EATCS03]</span></a> that past-time connectives allow for exponentially more succinct formulas, which make it very useful in practice.</p>
</section>
<section id="what-do-you-mean-temporal">
<h3>What do you mean: temporal?<a class="headerlink" href="#what-do-you-mean-temporal" title="Link to this heading">#</a></h3>
<p>In the literature, there are in fact several kinds of temporal logics. Their purpose is to reason over the behavior of a system, but they differ on all sorts of aspects. In the literature, the temporal logic at work in Alloy is referred to as Linear Temporal Logic (LTL) or sometimes Linear Temporal Logic with Past (PLTL). Although this is probably the most commonly used temporal logic, some kinds of temporal reasoning are not possible with LTL. For instance, if one needs to reason about different possible execution traces, a branching-time temporal logic, such as Computation Tree Logic (CTL) <a class="reference internal" href="../../../../bibliography.html#lp81" id="id4"><span>[LP81]</span></a>,  must be used instead of a linear-time temporal logic. In order to reason about the amount of time between different states, some other kind of temporal logics, which are called <em>timed</em> logics <a class="reference internal" href="../../../../bibliography.html#lics90" id="id5"><span>[LICS90]</span></a>, can be used.</p>
</section>
<section id="why-does-alloy-only-consider-infinite-traces">
<h3>Why does Alloy only consider infinite traces?<a class="headerlink" href="#why-does-alloy-only-consider-infinite-traces" title="Link to this heading">#</a></h3>
<p>There exist some frameworks where the length of traces can be finite. This makes the meaning of temporal connectives tricky. For instance, what is the meaning of <code class="code docutils literal notranslate"><span class="pre">after</span> <span class="pre">P</span></code> in the last state of a finite trace?  Defining it as either <span class="math notranslate nohighlight">\(true\)</span> or <span class="math notranslate nohighlight">\(false\)</span> would be sensible <a class="reference internal" href="../../../../bibliography.html#cav03" id="id6"><span>[CAV03]</span></a>. But in any case, the sames choice applies to <code class="code docutils literal notranslate"><span class="pre">after</span> <span class="pre">not</span> <span class="pre">P</span></code>. Now, <code class="code docutils literal notranslate"><span class="pre">not</span> <span class="pre">after</span> <span class="pre">P</span></code> is not equivalent to <code class="code docutils literal notranslate"><span class="pre">after</span> <span class="pre">not</span> <span class="pre">P</span></code>, which is admittedly counter-intuitive. A solution to avoid these issues is to consider infinite traces only. Remark that it is easy to simulate a finite behavior with an infinite trace, by considering a self-loop on the last state. This is in particular possible in case the Alloy model includes a stuttering event (see <span class="xref std std-ref">Stuttering</span> and chapter <a class="reference internal" href="../../../protocol-design/index.html#specifying-protocol-dynamics"><span class="std std-ref">Specifying the protocol dynamics</span></a>).</p>
</section>
<section id="why-does-alloy-only-show-lasso-traces">
<h3>Why does Alloy only show lasso traces?<a class="headerlink" href="#why-does-alloy-only-show-lasso-traces" title="Link to this heading">#</a></h3>
<p>Remark that some infinite traces cannot be represented by lasso traces: consider for instance the trace depicted below where P is true once in the first state, and then twice in the 3rd and 4th states, and then three times, and so on. This trace does not end by a repeating sequence. Therefore it cannot be represented by a lasso trace. However, a theoretical result for LTL called the Small Model Property (SMP) <a class="reference internal" href="../../../../bibliography.html#jacm85" id="id7"><span>[JACM85]</span></a> states that if a constraint has a trace that satisfies it, then it has a lasso trace that satisfies it. In other words, if there is no lasso trace satisfying a constraint, then there is no trace at all, which makes it enough to only search for lasso traces.</p>
</section>
<section id="does-an-alloy-model-necessarily-follow-the-usual-shape-of-a-transition-system">
<h3>Does an Alloy model necessarily follow the usual shape of a transition system ?<a class="headerlink" href="#does-an-alloy-model-necessarily-follow-the-usual-shape-of-a-transition-system" title="Link to this heading">#</a></h3>
<p>As it is presented in chapter <a class="reference internal" href="../../../behavioral-modeling/index.html#behavioral-modeling"><span class="std std-ref">Behavioral modeling</span></a>, it is a good practice to specify an Alloy model as a transition system: a constraint (without any temporal connective) corresponds to the initial states and another constraint imposes that one action (or a stuttering step) occurs in every state. However, you can also specify arbitrary temporal formulas as constraints of the model. Then, such formulas constrain the whole execution instead of only constraining the initial state and each transition. This can be useful to abstract away the behavior of some part of the model that we do not want to specify in detail. This is typically the role of fairness assumptions, such as the one we specified in chapter <a class="reference internal" href="../../../behavioral-modeling/index.html#behavioral-modeling"><span class="std std-ref">Behavioral modeling</span></a> related to the part of the system in charge of emptying the trash periodically. This assumption says that if the <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">empty</span></code> action becomes continuously enabled, then it will eventually occur.</p>
<div class="highlight-electrum notranslate"><div class="highlight"><pre><span></span><span class="k">fact</span> <span class="nf">fairness_on_empty</span> <span class="o">{</span>
   <span class="ow">always</span> <span class="o">(</span>
      <span class="ow">always</span> <span class="k">some</span> <span class="n">trashed</span> <span class="ow">implies</span>
      <span class="ow">eventually</span> <span class="n">empty</span>
   <span class="o">)</span>
<span class="o">}</span>
</pre></div>
</div>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../pointwise-effects/index.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Pointwise effects</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../evaluator/index.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">The trace evaluator</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2021-2024, Alcino Cunha, Nuno Macedo, Julien Brunel, David Chemouil
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">A temporal logic primer</a><ul>
<li><a class="reference internal" href="#everything-is-a-trace">Everything is a trace!</a></li>
<li><a class="reference internal" href="#temporal-connectives">Temporal connectives</a><ul>
<li><a class="reference internal" href="#future-time-connectives">Future-time connectives</a></li>
<li><a class="reference internal" href="#past-time-connectives">Past-time connectives</a></li>
<li><a class="reference internal" href="#interpretation-in-the-initial-state">Interpretation in the initial state</a></li>
</ul>
</li>
<li><a class="reference internal" href="#on-the-expressiveness-of-alloy-s-temporal-logic">On the expressiveness of Alloy’s temporal logic</a><ul>
<li><a class="reference internal" href="#are-past-time-connectives-really-useful">Are past-time connectives really useful?</a></li>
<li><a class="reference internal" href="#what-do-you-mean-temporal">What do you mean: temporal?</a></li>
<li><a class="reference internal" href="#why-does-alloy-only-consider-infinite-traces">Why does Alloy only consider infinite traces?</a></li>
<li><a class="reference internal" href="#why-does-alloy-only-show-lasso-traces">Why does Alloy only show lasso traces?</a></li>
<li><a class="reference internal" href="#does-an-alloy-model-necessarily-follow-the-usual-shape-of-a-transition-system">Does an Alloy model necessarily follow the usual shape of a transition system ?</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../../../_static/documentation_options.js?v=10f1778b"></script>
    <script src="../../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../_static/scripts/furo.js?v=32e29ea5"></script>
    <script src="../../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../../_static/design-tabs.js?v=36754332"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>