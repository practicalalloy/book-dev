<!doctype html>
<html class="no-js" lang="en" data-content_root="../../../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../../../../genindex.html" /><link rel="search" title="Search" href="../../../../search.html" /><link rel="next" title="Higher-arity relations" href="../nary-relations/index.html" /><link rel="prev" title="Structural quick reads" href="../../index.html" />

    <!-- Generated with Sphinx 7.2.6 and Furo 2024.01.29 -->
        <title>Subset signatures - Practical Alloy</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --color-brand-primary: #2a5adf;
  --color-brand-content: #2a5adf;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../../index.html"><div class="brand">Practical Alloy</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../../../index.html">
  
  
  <span class="sidebar-brand-text">Practical Alloy</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Preface</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../about-alloy/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../about-book/index.html">About this book</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../writer-notes.html">Writer notes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">The Basics</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../structural-modeling/index.html">Structural modeling</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../../index.html">Structural quick reads</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Structural quick reads</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Subset signatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nary-relations/index.html">Higher-arity relations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../enumerations/index.html">Enumeration signatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../commands/index.html">Commands in detail</a></li>
<li class="toctree-l2"><a class="reference internal" href="../themes/index.html">Visualization customization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../evaluator/index.html">The instance evaluator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing-instances/index.html">Encoding test instances</a></li>
<li class="toctree-l2"><a class="reference internal" href="../relational-logic/index.html">A relational logic primer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bestiary/index.html">Arrow multiplicity checks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ordering/index.html">The predefined <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">ordering</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../modules/index.html">Module system</a></li>
<li class="toctree-l2"><a class="reference internal" href="../recursion/index.html">Handling recursion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../integers/index.html">Working with integers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../type-system/index.html">Type system</a></li>
<li class="toctree-l2"><a class="reference internal" href="../analysis/index.html">Structural analysis</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../behavioral-modeling/index.html">Behavioral modeling</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../behavioral-topics/index.html">Behavioral quick reads</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Behavioral quick reads</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../behavioral-topics/topics/mutable-toplevel-signatures/index.html">Mutable top-level signatures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../behavioral-topics/topics/event-depiction/index.html">An idiom for event depiction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../behavioral-topics/topics/scenarios/index.html">Encoding trace scenarios</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../behavioral-topics/topics/evaluator/index.html">The trace evaluator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../behavioral-topics/topics/temporal-logic/index.html">A temporal logic primer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../behavioral-topics/topics/pointwise-effects/index.html">Pointwise effects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../behavioral-topics/topics/fairness/index.html">Safety, Liveness and Fairness</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../behavioral-topics/topics/sequences/index.html">Sequences</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../behavioral-topics/topics/macros/index.html">Macros</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../behavioral-topics/topics/meta/index.html">Meta-capabilities</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Applications</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../protocol-design/index.html">Protocol design</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../bibliography.html">Bibliography</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../genindex.html">Index</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="subset-signatures">
<span id="id1"></span><h1>Subset signatures<a class="headerlink" href="#subset-signatures" title="Link to this heading">#</a></h1>
<p id="index-0">Sets (unary relations) can be introduced in a model through subset signatures.
As we’ve already seen, unlike sub-signatures defined by extension, these are not
guaranteed to be disjoint among themselves. In the main chapter
<a class="reference internal" href="../../../structural-modeling/index.html#structural-modeling"><span class="std std-ref">Structural modeling</span></a> we’ve seen the basic use of subset signatures, but
since we actually expected those subset signatures to be disjoint, there were
better modelled as sub-signatures. That is not always the case, and in fact
subset signatures can be used to encode powerful patterns, including something
that akin to multiple inheritance.</p>
<section id="subsets-orthogonal-to-sub-signatures">
<h2>Subsets orthogonal to sub-signatures<a class="headerlink" href="#subsets-orthogonal-to-sub-signatures" title="Link to this heading">#</a></h2>
<p>Let us add the ability to tag objects in the file system example from the main
chapter <a class="reference internal" href="../../../structural-modeling/index.html#structural-modeling"><span class="std std-ref">Structural modeling</span></a> (such as supported by operating systems like
macOS). The concept of tagged object is transversal to the signature
<code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">Object</span></code>, since both regular files and directories can be tagged. On the
other hand, not all objects are necessarily tagged. So this feature is best
encoded as a subset signature as follows.</p>
<div class="highlight-electrum notranslate"><div class="highlight"><pre><span></span><span class="kd">sig</span> <span class="nc">Tagged</span> <span class="k">in</span> <span class="nc">Object</span> <span class="o">{}</span>
</pre></div>
</div>
<p>If we now ask the Analyzer for instances of this model there may exist objects
that are both in <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">File</span></code> and <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">Tagged</span></code> and <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">Dir</span></code> and
<code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">Tagged</span></code>. The following is one such possible instance for the empty
command <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">example</span></code>. Since <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">Tagged</span></code> is a subset signature, the fact
that an atom belongs to it is marked as an attribute of the node below its name
(the label of the atom always uses the most specific extension signature).</p>
<a class="reference internal image-reference" href="../../../../_images/instance126.png"><img alt="../../../../_images/instance126.png" class="align-center" src="../../../../_images/instance126.png" style="width: 500px;" /></a>
<p>Even more interesting, subset signatures can have their own fields declared
within. For instance, let’s introduce a signature <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">Tag</span></code> to represent
abstract tags, and then extend signature <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">Tagged</span></code> to also register the
non-empty set of tags assigned to each object, as follows.</p>
<div class="highlight-electrum notranslate"><div class="highlight"><pre><span></span><span class="kd">sig</span> <span class="nc">Tag</span> <span class="o">{}</span>

<span class="kd">sig</span> <span class="nc">Tagged</span> <span class="k">in</span> <span class="nc">Object</span> <span class="o">{</span>
    <span class="n">tags</span> <span class="p">:</span> <span class="k">some</span> <span class="n">Tag</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Now, for instance, any tagged directory will both be related through relations
<code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">entries</span></code> (inherited from <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">Dir</span></code>) and <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">tags</span></code> (inherited from
<code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">Tagged</span></code>). Below is one such example for the same command, where the root
has both entries and tags (in the theme, we’ve hidden <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">Tag</span></code> atoms, set
field <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">tags</span></code> to be shown as an attribute, and also removed the namespace
from the subset labels).</p>
<a class="reference internal image-reference" href="../../../../_images/instance213.png"><img alt="../../../../_images/instance213.png" class="align-center" src="../../../../_images/instance213.png" style="width: 500px;" /></a>
</section>
<section id="simulating-multiple-inheritance">
<h2>Simulating multiple inheritance<a class="headerlink" href="#simulating-multiple-inheritance" title="Link to this heading">#</a></h2>
<p>In the current model, any <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">Object</span></code> atom can be tagged or not. Using this
kind of signatures (and facts for additional constraints), we can enforce
multiple inheritance at the structural level, creating a signature whose atoms
inherit fields from multiple signatures while possibly introducing its own.
Let’s say, for the sake of example, that we want to present to users the objects
contained in a tagged directory that are also tagged. We want to register this
information in a new field <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">tagged_content</span></code> of such tagged directories. We
can define a new signature that inherits from directories and tagged objects,
and also introduces the new local field <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">tagged_content</span></code>, as follows.</p>
<div class="highlight-electrum notranslate"><div class="highlight"><pre><span></span><span class="kd">sig</span> <span class="nc">TaggedDir</span> <span class="k">extends</span> <span class="nc">Dir</span> <span class="o">{</span>
  <span class="n">tagged_content</span> <span class="p">:</span> <span class="k">set</span> <span class="n">Object</span>
<span class="o">}</span>

<span class="k">fact</span> <span class="nf">tagged_dirs</span> <span class="o">{</span>
  <span class="n">TaggedDir</span> <span class="ow">in</span> <span class="n">Tagged</span>
<span class="o">}</span>
</pre></div>
</div>
<p>By extension, all atoms of <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">TaggedDir</span></code> are directories; the additional
fact <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">tagged_dirs</span></code> forces those atoms to also be tagged. Moreover, they
are all also related by the new field <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">tagged_content</span></code> to a set of
objects. Note that this encoding still allows other tagged directories to exist
outside of <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">TaggedDir</span></code>: we are only forcing all objects in
<code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">TaggedDir</span></code> to be tagged. That could be enforced with a stronger fact
instead, such as <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">TaggedDir</span> <span class="o">=</span> <span class="n">Tagged</span> <span class="o">&amp;</span> <span class="n">Dir</span></code> (<code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">TaggedDir</span></code> is exactly
the set of directories that are tagged).</p>
<p>However, if we start to validate our model, we’ll quickly realize that there are
some instances that are missing: the root directory will never belong to
<code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">TaggedDir</span></code>. The reason is that <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">Root</span></code> was also defined as an
extension of <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">Dir</span></code>, and thus necessarily disjoint with <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">TaggedDir</span></code>.
As always, as our signature hierarchy becomes more complex, we should frequently
validate our model through <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="k">run</span></code> commands. In this case, this could be
solved by defining the <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">Root</span></code> signature by inclusion instead. Below is a
possible instance of this model for the <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">example</span></code> command.</p>
<a class="reference internal image-reference" href="../../../../_images/instance37.png"><img alt="../../../../_images/instance37.png" class="align-center" src="../../../../_images/instance37.png" style="width: 500px;" /></a>
</section>
<section id="cross-signature-subsets">
<h2>Cross-signature subsets<a class="headerlink" href="#cross-signature-subsets" title="Link to this heading">#</a></h2>
<p>Another interesting feature of subset signatures is that they can be defined to
be a subset of a union of multiple signatures using the <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="o">+</span></code> operator,
rather than just one as we’ve seen thus far. Let us extend our example again,
and consider that our file system also supports symbolic links as a distinct
type of object.</p>
<div class="highlight-electrum notranslate"><div class="highlight"><pre><span></span><span class="kd">sig</span> <span class="nc">Symlink</span> <span class="k">extends</span> <span class="nc">Object</span> <span class="o">{}</span>
</pre></div>
</div>
<p>Our system will not allow symbolic links to be tagged (they just assume the tags
of the file they link to). We could enforce this through an additional fact that
restricted the value of <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">Tagged</span></code>, but this can be directly achieved at the
signature level by adapting its declaration as follows.</p>
<div class="highlight-electrum notranslate"><div class="highlight"><pre><span></span><span class="kd">sig</span> <span class="nc">Tagged</span> <span class="k">in</span> <span class="nc">Dir</span> <span class="p">+</span> <span class="nc">File</span> <span class="o">{</span>
    <span class="n">tags</span> <span class="p">:</span> <span class="k">some</span> <span class="n">Tag</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Now subset <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">Tagged</span></code> is restricted to only <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">Dir</span></code> and <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">File</span></code>
atoms, excluding other types of objects. In fact, although <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">Dir</span></code> and
<code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">File</span></code> share the same top-level signature <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">Object</span></code>, signatures can
be defined as the subset of the union of completely unrelated signatures. You
will probably notices that you will have to customize the theme again at this
point. This is because in the previous version, subset <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">Tagged</span></code> and field
<code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">tags</span></code> were defined for the full signature <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">Object</span></code> in the theme; at
this point, they are no longer defined for all objects, but only for signatures
<code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">File</span></code> and <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">Dir</span></code>. At the theme level, this will result in the
duplication of <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">Tagged</span></code> and <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">tags</span></code> for these two signatures, which
have to be customized again.</p>
<p id="index-1">One last, and less common, way to define subset signatures is through equality
rather than inclusion using the operator <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="o">=</span></code>. For instance, let’s say that
we wish to assign user permissions to exactly all <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">Dir</span></code> and <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">File</span></code>
atoms. This could be done as follows.</p>
<div class="highlight-electrum notranslate"><div class="highlight"><pre><span></span><span class="kd">sig</span> <span class="nc">Permission</span> <span class="o">{}</span>

<span class="kd">sig</span> <span class="nc">BasicFiles</span> <span class="k">=</span> <span class="nc">Dir</span> <span class="p">+</span> <span class="nc">File</span> <span class="o">{</span>
    <span class="n">permission</span> <span class="p">:</span> <span class="k">one</span> <span class="n">Permission</span>
<span class="o">}</span>
</pre></div>
</div>
<p>An instance for the empty command for this version of the model is the following.</p>
<a class="reference internal image-reference" href="../../../../_images/instance43.png"><img alt="../../../../_images/instance43.png" class="align-center" src="../../../../_images/instance43.png" style="width: 500px;" /></a>
<p>Obviously, this example is a bit contrived since a simpler solution would be to
extend <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">Object</span></code> with a signature for objects with permissions and then
have <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">Dir</span></code> and <code class="code highlight alloy electrum docutils literal highlight-electrum"><span class="n">File</span></code> extend that new signature. Nonetheless,
likewise inclusion signatures, they can also be the result of the union of
unrelated signatures, which could not be solved in such a manner.</p>
<p>On a last note, due to all the flexibility of subset signatures, particularly
the fact that they may contain atoms from unrelated signatures, they can not be
further extended with sub-signatures.</p>
<div class="sd-sphinx-override sd-cards-carousel sd-card-cols-1 docutils">
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-card-hover docutils">
<div class="sd-card-header docutils">
<p class="sd-card-text"><svg version="1.1" width="1.0em" height="1.0em" class="sd-octicon sd-octicon-link" viewBox="0 0 16 16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg> Further reading</p>
</div>
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Visualization customization</div>
<p class="sd-card-text">Throughout the chapter we’ve customized the visualization of instances. Learn in more detail how this can ease instance interpretation.</p>
</div>
<a class="sd-stretched-link reference internal" href="../themes/index.html#theme-customization"><span class="std std-ref"></span></a></div>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../nary-relations/index.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Higher-arity relations</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../../index.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Structural quick reads</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2021-2024, Alcino Cunha, Nuno Macedo, Julien Brunel, David Chemouil
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Subset signatures</a><ul>
<li><a class="reference internal" href="#subsets-orthogonal-to-sub-signatures">Subsets orthogonal to sub-signatures</a></li>
<li><a class="reference internal" href="#simulating-multiple-inheritance">Simulating multiple inheritance</a></li>
<li><a class="reference internal" href="#cross-signature-subsets">Cross-signature subsets</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../../../_static/documentation_options.js?v=10f1778b"></script>
    <script src="../../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../_static/scripts/furo.js?v=32e29ea5"></script>
    <script src="../../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../../_static/design-tabs.js?v=36754332"></script>
    </body>
</html>